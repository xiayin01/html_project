<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Promise-ajax链式调用</title>
		<script src="http://code.jquery.com/jquery-latest.js"></script>
	</head>
	<body>
		<p></p>
		<script type="text/javascript">
			function getparam1() {
				return new Promise(function(resolve, reject) {
					$.get('./p1.text', function(p1) {
						resolve(p1);
					})
				})
			}

			function getparam2() {
				return new Promise(function(resolve, reject) {
					$.get('./p2.text', function(p2) {
						resolve(p2);
					})
				})
			}

			function getparam3() {
				return new Promise(function(resolve, reject) {
					$.get('./p3.text', function(p3) {
						resolve(p3);
					})
				})
			}

			var article = '';
			getparam1().then(function(p1) {
				article += p1 + '<br>';
				return getparam2();
			}).then(function(p2) {
				article += p2 + '<br>';
				return getparam3();
			}).then(function(p3) {
				article += p3 + '<br>';
				$('p').html(article);
			})
		</script>
	</body>
</html>
